import{j,e as m,f as A,b as r,c as s,o as e,g as p,a as c,F as v,r as g,w as l,d as n,t as f,u as D,s as E,_ as N,i as R,x as V,q as F,T as $,y as q}from"./index-BwGj3-rn.js";const z={class:"container"},H={key:0,class:"loading"},I={class:"card-header"},L={class:"time"},M={class:"content"},P={key:0,class:"image-grid"},S=["src"],G={key:1,class:"no-image"},J=j({__name:"Article",setup(k){const i=m([]),_=m(!0),u=m(""),h=async()=>{try{const t=await fetch("./data/article.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();i.value=a.map(d=>({...d,imgs:d.imgs||[]}))}catch(t){u.value=t instanceof Error?t.message:"未知错误，请稍后重试"}finally{_.value=!1}};return A(()=>{h()}),(t,a)=>{const d=r("el-skeleton"),y=r("el-alert"),w=r("router-link"),x=r("el-icon"),C=r("el-card");return e(),s("div",z,[_.value?(e(),s("div",H,[c(d,{rows:5,animated:""})])):u.value?(e(),p(y,{key:1,title:"数据加载失败",type:"error",description:u.value,"show-icon":"",closable:""},null,8,["description"])):(e(!0),s(v,{key:2},g(i.value,(o,b)=>(e(),p(C,{key:b,class:"article-card"},{header:l(()=>[n("div",I,[c(w,{to:{name:"article-detail",params:{id:o.id}},class:"nav-link nav-p"},{default:l(()=>[n("h3",null,f(o.title),1),n("span",L,f(o.time),1)]),_:2},1032,["to"])])]),default:l(()=>[n("div",M,[n("p",null,f(o.info),1),o.imgs.length?(e(),s("div",P,[(e(!0),s(v,null,g(o.imgs.slice(2,3),(B,T)=>(e(),s("img",{key:T,src:B,alt:"旅行图片",class:"article-image"},null,8,S))),128))])):(e(),s("div",G,[c(x,{size:50,color:"#909399"},{default:l(()=>[c(D(E))]),_:1}),a[0]||(a[0]=n("p",null,"暂无图片",-1))]))])]),_:2},1024))),128))])}}}),K=N(J,[["__scopeId","data-v-1b0f0a8d"]]),Q={__name:"Article",setup(k){const i=V(),_=R(()=>i.path==="/blog/article");return(u,h)=>{const t=r("router-view");return e(),s(v,null,[_.value?(e(),p(K,{key:0})):F("",!0),c(t,null,{default:l(({Component:a})=>[c($,{name:"fade",mode:"out-in"},{default:l(()=>[(e(),p(q(a)))]),_:2},1024)]),_:1})],64)}}};export{Q as default};
